{"ast":null,"code":"import _slicedToArray from\"C:/Users/Vadim/React/spacex_task/spacex_task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./SearchBar.scss\";import shipments from\"../../../assets/data/shipments.json\";import SearchBarItems from\"./SearchBarItems/SearchBarItems\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var shipmentsArray=Object.values(shipments);var SearchBar=function SearchBar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchResults=_useState2[0],setSearchResults=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),searchItemClicked=_useState4[0],setSearchItemClicked=_useState4[1];var getCompanyNames=function getCompanyNames(){var companyNamesArray=[];for(var o in shipmentsArray){companyNamesArray.push(shipmentsArray[o]);}var newObj=companyNamesArray[0].map(function(item){return item.name;});var newArr=Object.values(newObj);return newArr;};var compareEntry=function compareEntry(event){try{var companyNames=getCompanyNames();var userInput=event.target.value;var matches=[];if(userInput){matches=companyNames.filter(function(data){return data.toLocaleLowerCase().startsWith(userInput.toLocaleLowerCase());});matches=matches.map(function(data){return matches=data;});setSearchResults(matches);}return\"No matches found\";}catch(error){console.log(error);}};var handleSearchItemClick=function handleSearchItemClick(){if(searchItemClicked){setSearchResults([]);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-search\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-search\",id:\"search-input\",onChange:compareEntry,type:\"search\",placeholder:\"Search\"}),searchResults.map(function(el){return/*#__PURE__*/_jsx(SearchBarItems,{url:el.id,name:el,onClick:handleSearchItemClick},el.name);})]})});};export default SearchBar;","map":{"version":3,"names":["React","useState","shipments","SearchBarItems","jsx","_jsx","jsxs","_jsxs","shipmentsArray","Object","values","SearchBar","_useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useState3","_useState4","searchItemClicked","setSearchItemClicked","getCompanyNames","companyNamesArray","o","push","newObj","map","item","name","newArr","compareEntry","event","companyNames","userInput","target","value","matches","filter","data","toLocaleLowerCase","startsWith","error","console","log","handleSearchItemClick","children","className","id","onChange","type","placeholder","el","url","onClick"],"sources":["C:/Users/Vadim/React/spacex_task/spacex_task/src/components/Header/SearchBar/SearchBar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./SearchBar.scss\";\r\nimport shipments from \"../../../assets/data/shipments.json\";\r\nimport SearchBarItems from \"./SearchBarItems/SearchBarItems\";\r\n\r\nconst shipmentsArray = Object.values(shipments);\r\n\r\nconst SearchBar = () => {\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchItemClicked, setSearchItemClicked] = useState(false);\r\n\r\n  const getCompanyNames = () => {\r\n    let companyNamesArray = [];\r\n\r\n    for (let o in shipmentsArray) {\r\n      companyNamesArray.push(shipmentsArray[o]);\r\n    }\r\n\r\n    let newObj = companyNamesArray[0].map((item) => item.name);\r\n    let newArr = Object.values(newObj);\r\n    return newArr;\r\n  };\r\n\r\n  const compareEntry = (event) => {\r\n    try {\r\n      const companyNames = getCompanyNames();\r\n      let userInput = event.target.value;\r\n\r\n      let matches = [];\r\n\r\n      if (userInput) {\r\n        matches = companyNames.filter((data) => {\r\n          return data\r\n            .toLocaleLowerCase()\r\n            .startsWith(userInput.toLocaleLowerCase());\r\n        });\r\n        matches = matches.map((data) => {\r\n          return (matches = data);\r\n        });\r\n        setSearchResults(matches);\r\n      }\r\n\r\n      return \"No matches found\";\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleSearchItemClick = () => {\r\n    if (searchItemClicked) {\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form-search\">\r\n        <input\r\n          className=\"input-search\"\r\n          id=\"search-input\"\r\n          onChange={compareEntry}\r\n          type=\"search\"\r\n          placeholder=\"Search\"\r\n        />\r\n\r\n        {searchResults.map((el) => (\r\n          <SearchBarItems\r\n            key={el.name}\r\n            url={el.id}\r\n            name={el}\r\n            onClick={handleSearchItemClick}\r\n          />\r\n        ))}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,kBAAkB,CACzB,MAAO,CAAAC,SAAS,KAAM,qCAAqC,CAC3D,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,GAAM,CAAAC,cAAc,CAAGC,MAAM,CAACC,MAAM,CAACR,SAAS,CAAC,CAE/C,GAAM,CAAAS,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAA0CX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,IAAAI,UAAA,CAAkDhB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1DE,iBAAiB,CAAAD,UAAA,IAAEE,oBAAoB,CAAAF,UAAA,IAE9C,GAAM,CAAAG,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5B,GAAI,CAAAC,iBAAiB,CAAG,EAAE,CAE1B,IAAK,GAAI,CAAAC,CAAC,GAAI,CAAAf,cAAc,CAAE,CAC5Bc,iBAAiB,CAACE,IAAI,CAAChB,cAAc,CAACe,CAAC,CAAC,CAAC,CAC3C,CAEA,GAAI,CAAAE,MAAM,CAAGH,iBAAiB,CAAC,CAAC,CAAC,CAACI,GAAG,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,IAAI,GAAC,CAC1D,GAAI,CAAAC,MAAM,CAAGpB,MAAM,CAACC,MAAM,CAACe,MAAM,CAAC,CAClC,MAAO,CAAAI,MAAM,CACf,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC9B,GAAI,CACF,GAAM,CAAAC,YAAY,CAAGX,eAAe,CAAC,CAAC,CACtC,GAAI,CAAAY,SAAS,CAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAElC,GAAI,CAAAC,OAAO,CAAG,EAAE,CAEhB,GAAIH,SAAS,CAAE,CACbG,OAAO,CAAGJ,YAAY,CAACK,MAAM,CAAC,SAACC,IAAI,CAAK,CACtC,MAAO,CAAAA,IAAI,CACRC,iBAAiB,CAAC,CAAC,CACnBC,UAAU,CAACP,SAAS,CAACM,iBAAiB,CAAC,CAAC,CAAC,CAC9C,CAAC,CAAC,CACFH,OAAO,CAAGA,OAAO,CAACV,GAAG,CAAC,SAACY,IAAI,CAAK,CAC9B,MAAQ,CAAAF,OAAO,CAAGE,IAAI,CACxB,CAAC,CAAC,CACFtB,gBAAgB,CAACoB,OAAO,CAAC,CAC3B,CAEA,MAAO,kBAAkB,CAC3B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CACF,CAAC,CAED,GAAM,CAAAG,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAA,CAAS,CAClC,GAAIzB,iBAAiB,CAAE,CACrBH,gBAAgB,CAAC,EAAE,CAAC,CACtB,CACF,CAAC,CAED,mBACEX,IAAA,QAAAwC,QAAA,cACEtC,KAAA,SAAMuC,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC3BxC,IAAA,UACEyC,SAAS,CAAC,cAAc,CACxBC,EAAE,CAAC,cAAc,CACjBC,QAAQ,CAAElB,YAAa,CACvBmB,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,QAAQ,CACrB,CAAC,CAEDnC,aAAa,CAACW,GAAG,CAAC,SAACyB,EAAE,qBACpB9C,IAAA,CAACF,cAAc,EAEbiD,GAAG,CAAED,EAAE,CAACJ,EAAG,CACXnB,IAAI,CAAEuB,EAAG,CACTE,OAAO,CAAET,qBAAsB,EAH1BO,EAAE,CAACvB,IAIT,CAAC,EACH,CAAC,EACE,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}